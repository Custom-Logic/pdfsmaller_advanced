<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Analytics Do not Remove-->
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-WTLWZMT5');</script>
    <!-- End Google Tag Manager -->
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PQQ5LXLKWJ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-PQQ5LXLKWJ');
    </script>
    <!-- Primary Meta Tags -->
    <title>PDFSmaller - Advanced PDF Compression with Optional Server Processing</title>
    <meta name="title" content="PDFSmaller - Compress PDF Files with Client or Server Processing">
    <meta name="description"
        content="Reduce PDF file size with privacy-first client-side compression or optional server processing for maximum compression. 100% free and secure.">
    <meta name="keywords"
        content="compress pdf, reduce pdf size, pdf compressor, shrink pdf, pdf tool, privacy pdf compression, server pdf compression">
    <meta name="author" content="PDFSmaller">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://pdfsmaller.site/">
    <meta property="og:title" content="PDFSmaller - Advanced PDF Compression with Optional Server Processing">
    <meta property="og:description"
        content="Choose between privacy-first client-side compression or optional server processing for maximum PDF compression. 100% free and secure.">
    <meta property="og:image"
        content="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23667eea'/%3E%3Cstop offset='100%25' stop-color='%23764ba2'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1200' height='630' fill='url(%23grad)'/%3E%3Crect x='400' y='180' width='400' height='240' rx='15' fill='rgba(255,255,255,0.9)'/%3E%3Crect x='435' y='225' width='330' height='30' rx='5' fill='%233182ce'/%3E%3Crect x='435' y='275' width='330' height='30' rx='5' fill='%233182ce'/%3E%3Crect x='435' y='325' width='330' height='30' rx='5' fill='%233182ce'/%3E%3Ccircle cx='700' cy='210' r='15' fill='%23e53e3e'/%3E%3Cpath d='M690 210 l5 -5 10 10' stroke='white' stroke-width='3' fill='none'/%3E%3Ctext x='600' y='120' font-family='Arial, sans-serif' font-size='40' font-weight='bold' text-anchor='middle' fill='white'%3EPDFSmaller%3C/text%3E%3Ctext x='600' y='170' font-family='Arial, sans-serif' font-size='30' text-anchor='middle' fill='white'%3EAdvanced PDF Compression%3C/text%3E%3Ctext x='600' y='220' font-family='Arial, sans-serif' font-size='24' text-anchor='middle' fill='white'%3EClient-Side • Optional Server Processing%3C/text%3E%3Ctext x='600' y='550' font-family='Arial, sans-serif' font-size='24' text-anchor='middle' fill='white'%3E100%25 Free • Privacy Focused%3C/text%3E%3C/svg%3E">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://pdfsmaller.site/">
    <meta property="twitter:title" content="PDFSmaller - Advanced PDF Compression with Optional Server Processing">
    <meta property="twitter:description"
        content="Choose between privacy-first client-side compression or optional server processing for maximum PDF compression. 100% free and secure.">
    <meta property="twitter:image"
        content="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23667eea'/%3E%3Cstop offset='100%25' stop-color='%23764ba2'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1200' height='630' fill='url(%23grad)'/%3E%3Crect x='400' y='180' width='400' height='240' rx='15' fill='rgba(255,255,255,0.9)'/%3E%3Crect x='435' y='225' width='330' height='30' rx='5' fill='%233182ce'/%3E%3Crect x='435' y='275' width='330' height='30' rx='5' fill='%233182ce'/%3E%3Crect x='435' y='325' width='330' height='30' rx='5' fill='%233182ce'/%3E%3Ccircle cx='700' cy='210' r='15' fill='%23e53e3e'/%3E%3Cpath d='M690 210 l5 -5 10 10' stroke='white' stroke-width='3' fill='none'/%3E%3Ctext x='600' y='120' font-family='Arial, sans-serif' font-size='40' font-weight='bold' text-anchor='middle' fill='white'%3EPDFSmaller%3C/text%3E%3Ctext x='600' y='170' font-family='Arial, sans-serif' font-size='30' text-anchor='middle' fill='white'%3EAdvanced PDF Compression%3C/text%3E%3Ctext x='600' y='220' font-family='Arial, sans-serif' font-size='24' text-anchor='middle' fill='white'%3EClient-Side • Optional Server Processing%3C/text%3E%3Ctext x='600' y='550' font-family='Arial, sans-serif' font-size='24' text-anchor='middle' fill='white'%3E100%25 Free • Privacy Focused%3C/text%3E%3C/svg%3E">

    <!-- Google Search Console Intergration-->
    <meta name="google-site-verification" content="ylrJvKlQR-zxl56H7ovlzVGo_9vC941cbgl02yrSbwQ" />
    <!-- Canonical URL -->
    <link rel="canonical" href="https://pdfsmaller.site/">

    <!-- Favicon -->
    <link rel="icon"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='40' fill='%233182ce'/%3E%3Crect x='35' y='40' width='30' height='20' rx='2' fill='white'/%3E%3Cpath d='M40 45H60V50H40z M40 55H60V60H40z' fill='%233182ce'/%3E%3Ccircle cx='65' cy='40' r='4' fill='%23e53e3e'/%3E%3Cpath d='M62 40L65 37L68 40' stroke='white' stroke-width='1.5' fill='none'/%3E%3C/svg%3E">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "PDFSmaller",
      "url": "https://pdfsmaller.site/",
      "description": "Reduce PDF file size with privacy-first client-side compression or optional server processing for maximum compression. 100% free and secure.",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "features": ["Client-side processing", "Optional server processing", "No file uploads", "Privacy-focused"]
    }
    </script>

    <!-- Javscript PDF Compression Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/compressorjs@1.1.1/dist/compressor.min.js"></script>

    <!-- Modern CSS Design System -->
    <link rel="stylesheet" href="static/css/design-system.css">
    <link rel="stylesheet" href="static/css/utilities.css">
    <link rel="stylesheet" href="static/css/components-modern.css">
    <link rel="stylesheet" href="static/css/layout-modern.css">
    <link rel="stylesheet" href="static/css/responsive-mobile.css">
    <link rel="stylesheet" href="static/css/mobile-upload-optimizations.css">
    <link rel="stylesheet" href="static/css/mobile-typography-spacing.css">
    <link rel="stylesheet" href="static/css/tablet-optimizations.css">
    
    <!-- Application Styles -->
    <link rel="stylesheet" href="static/css/app.css">
    <link rel="stylesheet" href="static/css/nav.css">
    <link rel="stylesheet" href="static/css/extended-features.css">
    <link rel="stylesheet" href="static/css/components.css">
    <link rel="stylesheet" href="static/css/error-handling.css">
    <link rel="stylesheet" href="static/css/file-manager.css">
    <link rel="stylesheet" href="static/css/file-uploader.css">
    <link rel="stylesheet" href="static/css/authmodal.css">

    
    <!-- Settings Light Theme - Remove Dark Backgrounds -->
    <!-- <link rel="stylesheet" href="static/css/settings-light-theme.css"> -->
</head>
<body>
    <!-- Loading Indicator -->
    <div id="app-loader" class="loading-overlay">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <div class="loading-text">Loading PDFSmaller...</div>
        </div>
    </div>

    <!-- Navigation Header -->
    <header class="navbar">
        <div class="navbar-container">
            <a href="#" class="navbar-brand">
                <svg class="navbar-logo" viewBox="0 0 100 100">
                    <rect x="20" y="25" width="60" height="50" rx="5" fill="#3182ce" />
                    <path d="M35 40H65V45H35z M35 50H65V55H35z M35 60H65V65H35z" fill="white" />
                    <circle cx="75" cy="35" r="5" fill="#e53e3e" />
                </svg>
                <span class="navbar-title">PDFSmaller.site</span>
            </a>
            <button class="hamburger-menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>
    </header>

    <!-- Navigation Menu -->
<!-- Navigation Menu -->
<nav class="nav-menu">
    <div class="nav-menu-overlay"></div>
    <div class="nav-menu-content">
        <nav class="nav-menu-list">
            <a href="/" class="nav-menu-link" data-section="compress">Compress</a>
            <a href="/convert" class="nav-menu-link" data-section="convert">Convert</a>
            <a href="/ocr" class="nav-menu-link" data-section="ocr">OCR</a>
            <a href="/ai-tools" class="nav-menu-link" data-section="ai_tools">AI Tools</a>
            <a href="/files" class="nav-menu-link" data-section="files">Files</a>
            <a href="/settings" class="nav-menu-link" data-section="settings">Settings</a>
            <a href="/pricing" class="nav-menu-link" data-section="pricing">Pricing</a>
        </nav>
        <div class="nav-menu-divider"></div>
        
        <!-- Updated Auth Section - Simple Links -->
        <div class="nav-auth-section">
            <div class="auth-links" id="guestAuthSection">
                <a href="/login" class="nav-menu-link auth-link" data-action="show-login">Sign In</a>
                <a href="/subscribe" class="nav-menu-link auth-link" data-action="show-register">Create Account</a>
            </div>
            <!-- Once logged in remove hidden and add hidden on the sign in menu-->
            <div class="auth-links hidden" id="userAuthSection">
                <div class="user-info-nav">
                    <span class="user-name-nav" id="userNameNav"></span>
                    <span class="user-plan-nav" id="userPlanNav"></span>
                </div>
                <a href="/profile" class="nav-menu-link auth-link" data-action="show-profile">Profile</a>
                <a href="/logout" class="nav-menu-link auth-link logout-link" data-action="logout">Sign Out</a>
            </div>
        </div>
    </div>
</nav>

<!-- Auth Modal (will be shown when login/register links are clicked) -->
<div id="authModal" class="auth-modal hidden">
    <div class="auth-modal-overlay"></div>
    <div class="auth-modal-content">
      <button class="close-auth-modal" data-action="close-auth-modal">×</button>
      <auth-panel id="modalAuthPanel"></auth-panel>
    </div>
  </div>
    <!-- Main Application Container -->
    <main class="main-content">
        <!-- Application Shell Component -->
        <app-shell id="mainApp">
            <!-- Tab Navigation -->
            <nav class="tab-nav" slot="navigation" role="tablist">
                <a href="/" class="tab-button active" role="tab" aria-selected="true" tabindex="0" id="tab-compress" aria-controls="compressTab">Compress</a>
                <a href="/convert" class="tab-button" role="tab" aria-selected="false" tabindex="-1" id="tab-convert" aria-controls="convertTab">Convert</a>
                <a href="/ocr" class="tab-button" role="tab" aria-selected="false" tabindex="-1" id="tab-ocr" aria-controls="ocrTab">OCR</a>
                <a href="/ai-tools" class="tab-button" role="tab" aria-selected="false" tabindex="-1" id="tab-ai_tools" aria-controls="ai_toolsTab">AI Tools</a>
                <a href="/files" class="tab-button" role="tab" aria-selected="false" tabindex="-1" id="tab-files" aria-controls="filesTab">Files</a>
                <a href="/settings" class="tab-button" role="tab" aria-selected="false" tabindex="-1" id="tab-settings" aria-controls="settingsTab">Settings</a>
                <a href="/pricing" class="tab-button" role="tab" aria-selected="false" tabindex="-1" id="tab-pricing" aria-controls="pricingTab">Pricing</a>
            </nav>

            <!-- Tab Content Container -->
            <div class="tab-content" slot="content">
                <!-- Compress Tab -->
                <div id="compressTab" class="tab-panel active" role="tabpanel" aria-labelledby="tab-compress">
                    <div class="compress-layout-clean">
                        
                        <!-- Main Content Area -->
                        <main class="main-area-full">
                            <!-- Upload Section -->
                            <div class="content-card">
                                <div class="upload-header">
                                    <h3 class="upload-title">Upload PDF Files</h3>
                                    <p class="upload-subtitle">Drag and drop your PDF files or click to browse</p>
                                </div>
                                <file-uploader id="compressUploader" multiple accept=".pdf"></file-uploader>
                                <compression-controls id="compressControls"></compression-controls>
                            </div>
                            
                            <!-- Progress Section -->
                            <div class="content-card" id="progressCard" style="display: none;">
                                <progress-tracker 
                                    id="progressTracker">
                                </progress-tracker>
                            </div>
                            
                            <!-- Results Section -->
                            <div class="content-card" id="resultsCard" style="display: none;">
                                <results-display 
                                    id="resultsDisplay">
                                </results-display>
                            </div>

                        </main>
                    </div>
                </div>

                <!-- Convert Tab -->
                <div id="convertTab" class="tab-panel" role="tabpanel" aria-labelledby="tab-convert">
                    <div class="content-card">
                        <conversion-interface id="conversionInterface">
                            <file-uploader 
                                id="convertUploader" 
                                slot="uploader"
                                accept=".pdf"
                                max-size="50MB">
                            </file-uploader>
                            
                            <conversion-controls 
                                id="conversionControls" 
                                slot="controls">
                            </conversion-controls>
                        </conversion-interface>

                        
                    </div>

                </div>

                <!-- OCR Tab -->
                <div id="ocrTab" class="tab-panel" role="tabpanel" aria-labelledby="tab-ocr">
                    <div class="content-card">
                        <ocr-interface id="ocrInterface">
                            <file-uploader 
                                id="ocrUploader" 
                                slot="uploader"
                                accept=".pdf,.png,.jpg,.jpeg"
                                max-size="50MB">
                            </file-uploader>
                            
                            <ocr-controls 
                                id="ocrControls" 
                                slot="controls">
                            </ocr-controls>
                        </ocr-interface>
                    </div>
                </div>

                <!-- AI Tools Tab -->
                <div id="ai_toolsTab" class="tab-panel" role="tabpanel" aria-labelledby="tab-ai_tools">
                    <div class="content-card">
                        <ai-tools-interface id="aiToolsInterface">
                            <file-uploader 
                                id="aiUploader" 
                                slot="uploader"
                                accept=".pdf"
                                max-size="50MB">
                            </file-uploader>
                            
                            <ai-tools-controls 
                                id="aiToolsControls" 
                                slot="controls">
                            </ai-tools-controls>
                        </ai-tools-interface>
                    </div>
                </div>

                <!-- Files Tab -->
                <div id="filesTab" class="tab-panel" role="tabpanel" aria-labelledby="tab-files">
                    <div class="content-card">
                        <file-manager id="mainFileManager"></file-manager>
                    </div>
                </div>

                <!-- Settings Tab -->
                <div id="settingsTab" class="tab-panel" role="tabpanel" aria-labelledby="tab-settings">
                    <div class="content-card">
                    <settings-panel id="mainSettingsPanel"></settings-panel>                    
                    </div>
                </div>

                <!-- Pricing Tab -->
                <div id="pricingTab" class="tab-panel" role="tabpanel" aria-labelledby="tab-pricing">
                    <div class="content-card">
                        <pricing-interface id="pricingInterface">
                            <subscription-panel 
                                id="subscriptionPanel"
                                slot="subscription">
                            </subscription-panel>
                        </pricing-interface>
                    </div>
                </div>

                <!-- Profile Tab (shown when authenticated) -->
                <div id="profileTab" class="tab-panel" role="tabpanel" aria-labelledby="tab-profile">
                    <div class="content-card">
                        <profile-panel 
                            id="profilePanel">
                        </profile-panel>
                    </div>
                </div>
            </div>
        </app-shell>
    </main>

    <!-- Modal Containers -->
    <modal-container id="modalContainer">
        <!-- Auth modal will be dynamically inserted here -->
    </modal-container>

    <!-- Notification System -->
    <notification-system id="notificationSystem"></notification-system>

    
    <link rel="stylesheet" href="static/css/global-app.css">

    <!-- Component Scripts --> 

    <!-- Component Scripts -->
    <script type="module">
        
        
        // Import all components
        import './js/components/app-shell.js';
        import './js/components/auth-panel.js';
        import './js/components/profile-panel.js';
        import './js/components/subscription-panel.js';
        import './js/components/progress-tracker.js';
        import './js/components/results-display.js';
        import './js/modules/progress-results-integration.js';        
        import './js/components/settings-panel.js';
        import './js/components/modern-settings-panel.js';
        import './js/services/app-state.js';
        import './js/integration/settings-integration.js';
        import './js/components/bulk-uploader.js';
        import './js/components/compression-controls.js';
        import './js/components/file-uploader.js';
        import './js/components/progress-tracker.js';
        import './js/components/results-display.js';
        import './js/components/compression-interface.js';
        import './js/components/conversion-interface.js';
        import './js/components/conversion-controls.js';
        import './js/components/ocr-interface.js';
        import './js/components/ocr-controls.js';
        import './js/components/ai-tools-interface.js';
        import './js/components/ai-tools-controls.js';
        import './js/components/pricing-interface.js';
        import './js/components/modal-container.js';
        import './js/components/notification-system.js';
        import './js/components/file-manager.js';
        
        // Import error handling components
        import './js/components/error-message.js';
        import './js/components/loading-state.js';
        import './js/modules/error-handling-integration.js';

        // Import main integration
        import './js/main-integration.js';

        // App initialization
        class App {
            constructor() {
                this.isInitialized = false;
                this.components = new Map();
            }

            async init() {
                try {
                    // Hide loading overlay
                    this.hideLoading();

                    // Initialize component registry
                    await this.initializeComponents();

                    // Setup global event handlers
                    this.setupEventHandlers();

                    this.isInitialized = true;
                    console.log('PDFSmaller app initialized with component system');

                } catch (error) {
                    console.error('App initialization failed:', error);
                    this.showError('Failed to load application');
                }
            }

            async initializeComponents() {
                // Get component references
                this.components.set('authPanel', document.getElementById('navAuthPanel'));
                this.components.set('compressionInterface', document.getElementById('compressionInterface'));
                this.components.set('settingsPanel', document.getElementById('mainSettingsPanel'));
                this.components.set('profilePanel', document.getElementById('profilePanel'));
                this.components.set('subscriptionPanel', document.getElementById('subscriptionPanel'));
                this.components.set('notificationSystem', document.getElementById('notificationSystem'));

                // Wait for components to be ready
                await this.waitForComponents();
            }

            async waitForComponents() {
                const componentSelectors = [
                    'auth-panel',
                    'compression-interface',
                    'enhanced-settings-panel',
                    'profile-panel',
                    'subscription-panel',
                    'notification-system'
                ];

                const promises = componentSelectors.map(selector => 
                    customElements.whenDefined(selector)
                );

                await Promise.all(promises);
            }

            setupEventHandlers() {
                // Hamburger menu
                document.addEventListener('click', (event) => {
                    if (event.target.matches('.hamburger-menu')) {
                        document.querySelector('.nav-menu').classList.toggle('active');
                    }
                });

                // Menu overlay
                document.addEventListener('click', (event) => {
                    if (event.target.matches('.nav-menu-overlay')) {
                        document.querySelector('.nav-menu').classList.remove('active');
                    }
                });
            }

            hideLoading() {
                const loader = document.getElementById('app-loader');
                if (loader) {
                    loader.classList.add('hidden');
                    setTimeout(() => loader.remove(), 300);
                }
            }

            showError(message) {
                const notificationSystem = this.components.get('notificationSystem');
                if (notificationSystem) {
                    notificationSystem.show(message, 'error');
                } else {
                    alert(message);
                }
            }
        }

        // Initialize app when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                const app = new App();
                app.init();
                window.app = app;
            });
        } else {
            const app = new App();
            app.init();
            window.app = app;
        }
    </script>

    
</body>
</html>